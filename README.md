# 執事チャットボットの実行方法とファイル構成

執事チャットボットを実行するための詳細な手順を説明します。ファイル名や構成も含めて、具体的に解説していきますね。

## ファイル構成

### 基本構成
以下のファイルを準備します：

1. `butler_chatbot.py` - メインのPythonプログラムファイル
2. `.env` - APIキーを保存する環境変数ファイル（VSCode使用時のみ）

## 実行方法

### Google Colabでの実行方法

1. **ファイル作成**:
   - Google Colabを開き、新しいノートブックを作成します
   - ファイル名を「Butler_Chatbot.ipynb」などわかりやすい名前に変更します
   - コード全体を1つのセルにコピー＆ペーストします

2. **APIキーの設定**:
   - 左側のサイドバーにある「🔑」アイコン（秘密）をクリック
   - 「新規」をクリック
   - 名前: `OPENAI_API_KEY`
   - 値: あなたのOpenAI APIキー
   - 「保存」をクリック

3. **実行**:
   - セルの左側にある実行ボタン（▶️）をクリックするか、`Shift+Enter`キーを押します
   - プログラムが実行され、チャットボットが起動します

### VSCodeでの実行方法

1. **ファイル作成**:
   - 新しいフォルダを作成（例: `butler-chatbot`）
   - このフォルダ内に `butler_chatbot.py` ファイルを作成し、コードを貼り付けます
   - 同じフォルダ内に `.env` ファイルを作成します

2. **`.env` ファイルの内容**:
   ```
   OPENAI_API_KEY=あなたのOpenAIのAPIキー
   ```

3. **ライブラリのインストール**:
   - コマンドプロンプトまたはターミナルを開きます
   - フォルダに移動します: `cd path/to/butler-chatbot`
   - 必要なライブラリをインストールします:
     ```
     pip install openai python-dotenv requests beautifulsoup4 PyPDF2 langchain
     ```

4. **実行**:
   - ターミナルから以下のコマンドを実行:
     ```
     python butler_chatbot.py
     ```
   - またはVSCode内で、ファイルを開いて右上の実行ボタンをクリックします

## PDF参照機能を使う場合の追加ファイル

PDF参照機能を使用する場合、PDFファイルをプロジェクトフォルダに配置してください：

1. VSCodeの場合:
   - PDFファイルをプロジェクトフォルダ（`butler-chatbot`）内に配置します
   - チャットボット内で参照する際は：`pdf ファイル名.pdf`

2. Google Colabの場合:
   - 左側のファイルアイコンをクリック
   - アップロードボタンをクリックしてPDFをアップロード
   - チャットボット内で参照する際は：`pdf ファイル名.pdf`

## フォルダ構造例（VSCode）

```
butler-chatbot/
│
├── butler_chatbot.py    # メインのプログラムファイル
├── .env                 # APIキーを保存する環境変数ファイル
│
├── documents/           # PDFなどのドキュメントを保存するフォルダ（任意）
│   ├── sample.pdf
│   └── reference.pdf
│
└── README.md            # 使い方の説明（任意）
```

## 実行例

以下は実際のコマンドラインでの実行例です：

```
$ cd butler-chatbot
$ python butler_chatbot.py

===== お嬢様の執事チャットボット =====
※会話を終了するには「終了」と入力してください

【新機能】
・PDFの参照: 「pdf ファイル名.pdf」または「pdf https://example.com/file.pdf」と入力
・Webページの参照: 「url https://example.com」と入力
・参照したドキュメントに関する質問ができます

API key loaded successfully.

お嬢様: こんにちは

執事: お嬢様、こんにちは。今日はいかがお過ごしでしょうか。何かお手伝いできることがございましたら、どうぞお申し付けくださいませ。
```

これで、執事チャットボットのセットアップと実行方法について、必要なファイル名と共にご理解いただけたかと思います。何か不明点があれば、お気軽にお尋ねください。

ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー